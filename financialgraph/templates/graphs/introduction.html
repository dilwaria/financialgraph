{% extends "base.html" %}
{% load staticfiles i18n compress%}

<meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
  <script src="{% static 'js/bootstrap.js' %}"></script>

<!-- <title>Table</title>


</head>

<body> -->
{% block content%}

  <nav class="navbar navbar-inverse" >
    <div class="container">

      <div class="collapse navbar-collapse" id="collapse">
        <ul class="nav navbar-nav">
          <li class="active"><a href="#featured">Home</a></li>
          <li><a href="#myCarousel">Slideshow</a></li>
          <li><a href="#services">Mission</a></li>
          <li><a href="#team">Team</a></li>
          <li><a href="#testimonials">Testimonials</a></li>
        </ul>
      </div><!-- collapse navbar-collapse -->
    </div><!-- container -->
  </nav>
  
  

<div class="container-fluid" style="padding-left: 0px;padding-right: 95px;">
  <div class="col-md-10 table-responsive"  style="margin-left: 40px;">
  
  <table class="table table-striped table-bordered" >
      <thead>
       <tr>
        <th colspan="2" scope="colgroup">EMPLOY</th>
        <th colspan="2" scope="colgroup">DEPLOY</th>
        <th colspan="2" scope="colgroup">CATEGORY3</th>
         <th colspan="2" scope="colgroup">CATEGORY4</th>
        <th colspan="2" scope="colgroup">CATEGORY5</th>
        <th colspan="2" scope="colgroup">CATEGORY6</th>
      </tr>
       <tr>
        <th>EMPLOY TYPE-1</th>
        <th>EMPLOY TYPE-2</th>
        <th>EMPLOY TYPE-3</th>
         <th>EMPLOY TYPE-4</th>
        <th>EMPLOY TYPE-5</th>
        <th>EMPLOY TYPE-6</th>
         <th>EMPLOY TYPE-7</th>
        <th>EMPLOY TYPE-8</th>
        <th>EMPLOY TYPE-9</th>
         <th>EMPLOY TYPE-10</th>
        <th>EMPLOY TYPE-11</th>
        <th>EMPLOY TYPE-12</th>
      </tr>
      <tr>
      <th>
<select id='list'>
  <option value="var-a">TYPE_A</option>
  <option value="var-b">TYPE_B</option>
  <option value="var-c">TYPE_C</option>
  <option value="var-d">TYPE_D</option>
   <option value="var-e">TYPE_E</option>
  <option value="var-f">TYPE_F</option>

</select>
</th>
</tr>

      <tr>
        <th></th>
        <th>FirstObs</th>
        <th>LastObs</th>
        <th>Largest</th>
          <th>
<select id="numberlargest">
{% for i in loop %}
  <option value="var-{{i}}">{{i}} Largest</option>
 
{% endfor %}
</select>
</th>
        <th>Smallest</th>
         <th>
<select id="numbersmallest">
{% for i in loop %}
  <option value="var-{{i}}">{{i}} Smallest</option>
{% endfor %}
</select>
</th>

         <th>Sum</th>
        <th>Test</th>
        <th>MatrixAdd</th>
         <th>Select-1</th>
        <!-- <th>CompInt</th> -->
        <th>UserInput</th>
      </tr>
    </thead>
    <tbody>
<form method="POST" class="post-form">
{% csrf_token %}
    <tr>
      <td>Var-1</td>
        <td>{{firstobs.value1}}</td>
        <td>{{lastobs.value1}}</td>
         <td>{{maximum.value1__max}}</td>
        <td id ="lar-1">{{largests.0.value1}}</td>
         <td>{{minimum.value1__min}}</td>
        <td id="small-1">{{smallests.0.value1}}</td>
         <td>{{sum.value1__sum}}</td>
        <td></td>
         <td>{{matrix.0}}</td>
        <td></td>
         
        <td ><input type="text" name="value1"  style="width: 75px;" /></td>
      </tr>
      <tr>
      <td>Var-2</td>
        <td>{{firstobs.value2}}</td>
       <td>{{lastobs.value2}}</td>
         <td>{{maximum.value2__max}}</td>
        <td  id ="lar-2">{{largests.0.value2}}</td>
         <td>{{minimum.value2__min}}</td>
        <td id="small-2">{{smallests.0.value2}}</td>
         <td>{{sum.value2__sum}}</td>
        <td></td>
         <td>{{matrix.1}}</td>
        <td></td>
         
        <td><input type="text" name="value2" style="width: 75px;" /></td>
      </tr>
      <tr>
       <td>Var-3</td>
         <td>{{firstobs.value3}}</td>
       <td>{{lastobs.value3}}</td>
         <td>{{maximum.value3__max}}</td>
        <td   id ="lar-3" >{{largests.0.value3}}</td>
         <td>{{minimum.value3__min}}</td>
        <td id="small-3">{{smallests.0.value3}}</td>
         <td>{{sum.value3__sum}}</td>
        <td></td>
         <td>{{matrix.2}}</td>
        <td></td>
         
        <td><input type="text" name="value3" style="width: 75px;" /></td>
      </tr>
       <tr>
        <td>Var-4</td>
         <td>{{firstobs.value4}}</td>
        <td>{{lastobs.value4}}</td>
         <td>{{maximum.value4__max}}</td>
        <td  id ="lar-4">{{largests.0.value4}}</td>
         <td>{{minimum.value4__min}}</td>
        <td id="small-4">{{smallests.0.value4}}</td>
         <td>{{sum.value4__sum}}</td>
        <td></td>
         <td>{{matrix.3}}</td>
        <td></td>
         
        <td><input type="text" name="value4" style="width: 75px;" /></td>
      </tr>
       <tr>
        <td>Var-5</td>
         <td>{{firstobs.value5}}</td>
        <td>{{lastobs.value5}}</td>
         <td>{{maximum.value5__max}}</td>
        <td  id ="lar-5">{{largests.0.value5}}</td>
         <td>{{minimum.value5__min}}</td>
        <td id="small-5" >{{smallests.0.value5}}</td>
         <td>{{sum.value5__sum}}</td>
        <td></td>
         <td>{{matrix.4}}</td>
        <td></td>
         
        <td><input type="text" name="value5" style="width: 75px;"/></td>
      </tr>
       <tr>
        <td>Var-6</td>
         <td>{{firstobs.value6}}</td>
        <td>{{lastobs.value6}}</td>
         <td>{{maximum.value6__max}}</td>
        <td  id ="lar-6">{{largests.0.value6}}</td>
         <td>{{minimum.value6__min}}</td>
        <td id="small-6">{{smallests.0.value6}}</td>
         <td>{{sum.value6__sum}}</td>
        <td></td>
         <td>{{matrix.5}}</td>
        <td></td>
         
        <td><input type="text" name="value6" style="width: 75px;" /></td>
      </tr>
       <tr>
        <td>Var-7</td>
         <td>{{firstobs.value7}}</td>
        <td>{{lastobs.value7}}</td>
         <td>{{maximum.value7__max}}</td>
        <td  id ="lar-7">{{largests.0.value7}}</td>
         <td>{{minimum.value7__min}}</td>
        <td id="small-7">{{smallests.0.value7}}</td>
         <td>{{sum.value7__sum}}</td>
        <td></td>
         <td>{{matrix.6}}</td>
        <td></td>
         
        <td><input type="text" name="value7" style="width: 75px;"/></td>
      </tr>
       <tr>
        <td>Var-8</td>
         <td>{{firstobs.value8}}</td>
       <td>{{lastobs.value8}}</td>
         <td>{{maximum.value8__max}}</td>
        <td  id ="lar-8">{{largests.0.value8}}</td>
         <td>{{minimum.value8__min}}</td>
        <td id="small-8">{{smallests.0.value8}}</td>
         <td>{{sum.value8__sum}}</td>
        <td></td>
         <td>{{matrix.7}}</td>
        <td></td>
         
        <td><input type="text" name="value8" style="width: 75px;" /></td>
      </tr>
       <tr>
        <td>Var-9</td>
         <td>{{firstobs.value9}}</td>
        <td>{{lastobs.value9}}</td>
         <td>{{maximum.value9__max}}</td>
        <td  id ="lar-9">{{largests.0.value9}}</td>
         <td>{{minimum.value9__min}}</td>
        <td id="small-9" >{{smallests.0.value9}}</td>
         <td>{{sum.value9__sum}}</td>
        <td></td>
         <td>{{matrix.8}}</td>
        <td></td>
         
        <td><input type="text" name="value9" style="width: 75px;" /></td>
      </tr>
       <tr>
          <td>Var-10</td>
         <td>{{firstobs.value10}}</td>
        <td>{{lastobs.value10}}</td>
         <td>{{maximum.value10__max}}</td>
        <td  id ="lar-10">{{largests.0.value10}}</td>
         <td>{{minimum.value10__min}}</td>
        <td id="small-10">{{smallests.0.value10}}</td>
         <td>{{sum.value10__sum}}</td>
        <td></td>
         <td>{{matrix.9}}</td>
        <td></td>
         
        <td><input type="text" name="value10" style="width: 75px;" /></td>
      </tr>
    </tbody>


  </table>
  <input type="submit" value="Submit" id="yelo">
  </form>
  </div>
  
</div>
{% endblock content %}
 {% block graph %}
  <div id="chart_div" style="   float: left;  margin-left: 65px;
    margin-right: 173px;
    margin-top: 40px;" ></div>
    <div id ="chart_div1" style="  float: left; margin-top: 40px;
    margin-right: 4px;
    margin-left: 0px;
    margin-bottom: 65px;"></div>

     <div id ="chart_div3" style="   float: left; margin-left: 65px; margin-right: 173px;"></div>
    <div id ="chart_div2" style=" height:50%;  float: left; margin-bottom: 100px;"></div>
   
    <!-- <div id ="chart_div4" style=" width: 50%;   height:50%; float: right; "></div> -->
    {% endblock graph%}

    {% block javascript %}
    {{block.super}}
    <script type="text/javascript">

      $( document ).ready(function() {
    console.log( "ready!" );
    $(".table td").css({"padding": "0.4rem",    "vertical-align": "initial"});

});

    $('#list').change(function() {
    switch ($(this).val()) {
    case "var-a":
        window.location = "{% url 'introduction' 2 %}";
        break; 
    case "var-b":
        window.location = "{% url 'introduction' 2 %}";
        break; 
    case "var-c":
        window.location = "{% url 'introduction' 3 %}";
        break; 
    case "var-d":
        window.location = "{% url 'introduction' 4 %}";
        break; 
    default: 
        alert("Looking forward to the Weekend");
}
});

     $('#numberlargest').change(function() {
     str = $(this).val(); 
        var res = str.split("-");
        going = res[1];
        var currentLocation = window.location;
 
        variables = currentLocation['pathname'].split("/");

        var id =  variables.slice(-1)[0] ;
        if (id==""){
           id =1 ;
        }
        // console.log(id)
        // "{% url 'ajaxfire' 1 1 3 %}";
        $.ajax({
        url: "{% url 'ajaxfire' 1 1 3 %}",
        data: {
              format: 'json',
              variable : id,
              number : going
              },
        type: 'GET',
        error: function() {
      $('#info').html('<p>An error has occurred</p>');
          },
   // dataType: 'jsonp',
   success: function(data) {
    // console.log(JSON.stringify(data));
    var obj = JSON.parse(data);
    for (i = 0 ; i< 10; i++){
      var put = "lar-"+ (i+1).toString();
      var values = "value" + (i+1).toString();
      // console.log(put);
      $('#'+put).text(obj[0]['fields'][values]);
     // console.log(obj[0]['fields']['value1']);
    }
   }
   
});
});

    $('#numbersmallest').change(function() {
       str = $(this).val(); 
        var res = str.split("-");
        going = res[1];
        var currentLocation = window.location;
 
        variables = currentLocation['pathname'].split("/");

        var id =  variables.slice(-1)[0] ;
        if (id==""){
           id =1 ;
        }
        // console.log(id)
        // "{% url 'ajaxfire' 1 1 3 %}";
        $.ajax({
        url: "{% url 'ajaxfire' 1 2 3 %}",
        data: {
              format: 'json',
              variable : id,
              number : going
              },
        type: 'GET',
        error: function() {
      $('#info').html('<p>An error has occurred</p>');
          },
   // dataType: 'jsonp',
   success: function(data) {
     var obj = JSON.parse(data);
    for (i = 0 ; i< 10; i++){
      var put = "small-"+ (i+1).toString();
      var values = "value" + (i+1).toString();
      // console.log(put);
      $('#'+put).text(obj[0]['fields'][values]);
     // console.log(obj[0]['fields']['value1']);
    }   }
      });  
    });


    </script>
<script type="text/javascript" src="{% static 'js/gloader.js' %}"></script>
    <script type="text/javascript">

      // Load the Visualization API and the corechart package.
      google.charts.load('current', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawChart);

      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawChart() {

        // Create the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Observation');
        data.addColumn('number', 'Value');
        data.addRows([
          ['Obs1', {{firstobs.value1}}],
          ['Obs2', {{firstobs.value2}}],
          ['Obs3', {{firstobs.value3}}],
          ['Obs4', {{firstobs.value4}}],
          ['Obs5', {{firstobs.value5}}],
          ['Obs6', {{firstobs.value6}}],
          ['Obs7', {{firstobs.value7}}],
          ['Obs8', {{firstobs.value8}}],
          ['Obs9', {{firstobs.value9}}],
          ['Obs10', {{firstobs.value10}}]
        ]);

         var areadata = google.visualization.arrayToDataTable([
          ['Value', 'Var1', 'Var2'],
          ['Obs1',  {{firstobs.value1}},      {{lastobs.value1}}],
          ['Obs2',  {{firstobs.value2}},      {{lastobs.value2}}],
          ['Obs3',  {{firstobs.value3}},      {{lastobs.value3}}],
          ['Obs4',  {{firstobs.value4}},      {{lastobs.value4}}],
          ['Obs5', {{firstobs.value5}},      {{lastobs.value5}}],
          ['Obs6',  {{firstobs.value6}},      {{lastobs.value6}}],
          ['Obs7',  {{firstobs.value7}},      {{lastobs.value7}}],
          ['Obs8',  {{firstobs.value8}},      {{lastobs.value8}}],
          ['Obs9',  {{firstobs.value9}},      {{lastobs.value9}}],
          ['Obs10',  {{firstobs.value10}},      {{lastobs.value10}}]
          
        ]);

        var columndata = google.visualization.arrayToDataTable([
        ["Element", "Value", { role: "style" } ],
        ["Var1", {{firstobs.value1}}, "#b87333"],
        ["Var2",  {{firstobs.value2}} , "silver"],
        ["Var3", {{firstobs.value3}}, "gold"],
        ["Var4", {{firstobs.value4}}, "color: #e5e4e2"],
         ["Var5", {{firstobs.value5}}, "silver"]
      ]);
       var view = new google.visualization.DataView(columndata);
      view.setColumns([0, 1,
                       { calc: "stringify",
                         sourceColumn: 1,
                         type: "string",
                         role: "annotation" },
                       2]);


   
        // Set chart options
        var piechart_options = {'title':'Value of Last Observation',
                       'width':450,
                       'height':350,
                        'titleTextStyle':{color: '#F8F0EE'},
                        'backgroundColor': '#3a3737',};

        var barchart_options = {'title':'Value of First Observation',
                       'width':450,
                       'height':350,
                       'titleTextStyle':{color: '#F8F0EE'},
                        'backgroundColor': '#3a3737',};

        var areachart_options = {
          title: 'Observation With Variables',
          hAxis: {title: 'Observations',  titleTextStyle: {color: '#F8F0EE'}},
          width: 450,
        height: 350,
        'titleTextStyle':{color: '#F8F0EE'},
        backgroundColor: '#3a3737',
          vAxis: {minValue: 0}
        };

        var histogram_options = {
        title: "Variables with First Observation",
        width: 450,
        height: 350,
        backgroundColor: '#3a3737',
        'titleTextStyle':{color: '#F8F0EE'},
        bar: {groupWidth: "95%"},
        legend: { position: "none" },
      };

       var steppedchart_options = {
          title: 'The decline of \'The 39 Steps\'',
          vAxis: {title: 'Accumulated Rating'},
          isStacked: true
        };

        // Instantiate and draw our chart, passing in some options.
        var piechart = new google.visualization.PieChart(document.getElementById('chart_div'));
        piechart.draw(data, piechart_options);
      
        var barchart = new google.visualization.BarChart(document.getElementById('chart_div1'));
        barchart.draw(data, barchart_options);

        var areachart = new google.visualization.AreaChart(document.getElementById('chart_div2'));
        areachart.draw(areadata, areachart_options);

        var histogramchart = new google.visualization.ColumnChart(document.getElementById("chart_div3"));
       histogramchart.draw(view, histogram_options);

       var steppedchart = new google.visualization.SteppedAreaChart(document.getElementById('chart_div4'));
       steppedchart.draw(areadata, steppedchart_options);


      }
    </script>


    {% endblock javascript %}